# STEP-15: CI/CD í†µí•©

## ëª©í‘œ
GitHub Actionsë¥¼ í™œìš©í•˜ì—¬ ìë™í™”ëœ ë¹Œë“œ, í…ŒìŠ¤íŠ¸, ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬, í”ŒëŸ¬ê·¸ì¸ ë°°í¬ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•©ë‹ˆë‹¤.

## ì›Œí¬í”Œë¡œìš° êµ¬ì„±

### 1. CI ì›Œí¬í”Œë¡œìš° (`ci.yml`)
```yaml
name: CI

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main, develop ]

jobs:
  build:        # ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸
  code-analysis: # ì½”ë“œ ë¶„ì„
  dependency-check: # ì˜ì¡´ì„± ê²€ì‚¬
```

**ê¸°ëŠ¥:**
- Java 17 + Gradle ë¹Œë“œ
- í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° ê²°ê³¼ ì—…ë¡œë“œ
- ì½”ë“œ ë³´ì•ˆ ê²€ì‚¬ (í•˜ë“œì½”ë”©ëœ ë¹„ë°€ì •ë³´)
- ì˜ì¡´ì„± ì—…ë°ì´íŠ¸ í™•ì¸

### 2. ì½”ë“œ í’ˆì§ˆ ì›Œí¬í”Œë¡œìš° (`code-quality.yml`)
```yaml
name: Code Quality

on:
  pull_request:
    paths:
      - '**.java'

jobs:
  ai-code-review:  # AI ì½”ë“œ ë¦¬ë·°
  checkstyle:      # ì½”ë“œ ìŠ¤íƒ€ì¼ ê²€ì‚¬
  complexity-check: # ë³µì¡ë„ ë¶„ì„
```

**ê¸°ëŠ¥:**
- ë³€ê²½ëœ Java íŒŒì¼ì— AI ì½”ë“œ ë¦¬ë·° ìë™ ì‹¤í–‰
- ì½”ë“œ ìŠ¤íƒ€ì¼ ê²€ì‚¬ (trailing whitespace, tabs, ê¸´ ì¤„)
- ë³µì¡ë„ ë¶„ì„ (ë©”ì„œë“œ ìˆ˜, íŒŒì¼ í¬ê¸°)
- Critical ì´ìŠˆ ë°œê²¬ ì‹œ ë¹Œë“œ ì‹¤íŒ¨

### 3. í”ŒëŸ¬ê·¸ì¸ ë¹Œë“œ ì›Œí¬í”Œë¡œìš° (`plugin-build.yml`)
```yaml
name: Plugin Build

on:
  push:
    paths:
      - 'code-ai-intellij/**'
      - 'code-ai-vscode/**'
  release:
    types: [ published ]

jobs:
  build-intellij-plugin:  # IntelliJ í”ŒëŸ¬ê·¸ì¸ ë¹Œë“œ
  build-vscode-extension: # VS Code í™•ì¥ ë¹Œë“œ
  release-plugins:        # ë¦´ë¦¬ìŠ¤ ë°°í¬
```

**ê¸°ëŠ¥:**
- IntelliJ í”ŒëŸ¬ê·¸ì¸ ë¹Œë“œ ë° ê²€ì¦
- VS Code í™•ì¥ ì»´íŒŒì¼ ë° íŒ¨í‚¤ì§•
- ë¦´ë¦¬ìŠ¤ ì‹œ ìë™ ë°°í¬

### 4. PR ë¦¬ë·° ì›Œí¬í”Œë¡œìš° (`pr-review.yml`)
```yaml
name: PR Review

on:
  pull_request:
    types: [ opened, synchronize, reopened ]

jobs:
  auto-label:        # ìë™ ë¼ë²¨ë§
  pr-stats:          # PR í†µê³„
  ai-review-comment: # AI ë¦¬ë·° ì½”ë©˜íŠ¸
```

**ê¸°ëŠ¥:**
- ëª¨ë“ˆë³„ ìë™ ë¼ë²¨ (analyzer, cli, intellij-plugin ë“±)
- PR í¬ê¸° ë¼ë²¨ (size/XS ~ size/XL)
- PR í†µê³„ ì½”ë©˜íŠ¸ (íŒŒì¼ ìˆ˜, ë¼ì¸ ë³€ê²½ëŸ‰)
- AI ì½”ë“œ ë¦¬ë·° ê²°ê³¼ ìë™ ì½”ë©˜íŠ¸

## ì›Œí¬í”Œë¡œìš° ìƒì„¸

### CI íŒŒì´í”„ë¼ì¸
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      GitHub Actions CI                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  push/PR                                                    â”‚
â”‚     â†“                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Build  â”‚ â†’  â”‚    Test     â”‚ â†’  â”‚ Code Analysis â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                        â†“                   â†“                â”‚
â”‚               Upload Artifacts    Security Check            â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### AI ì½”ë“œ ë¦¬ë·° in PR
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PR AI Review Flow                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1. PR ìƒì„±/ì—…ë°ì´íŠ¸                                         â”‚
â”‚        â†“                                                    â”‚
â”‚  2. ë³€ê²½ëœ Java íŒŒì¼ íƒì§€                                    â”‚
â”‚        â†“                                                    â”‚
â”‚  3. ê° íŒŒì¼ì— ai-review ì‹¤í–‰                                â”‚
â”‚        â†“                                                    â”‚
â”‚  4. ê²°ê³¼ë¥¼ PR ì½”ë©˜íŠ¸ë¡œ ê²Œì‹œ                                  â”‚
â”‚        â†“                                                    â”‚
â”‚  5. Critical ì´ìŠˆ ìˆìœ¼ë©´ ë¹Œë“œ ì‹¤íŒ¨                          â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## GitHub Actions Job Summary ì˜ˆì‹œ

### AI Code Review Results
```markdown
## ğŸ¤– AI Code Review Results

### ğŸ“„ UserService.java

| Metric | Value |
|--------|-------|
| Grade | ğŸŒŸ A |
| Score | 92/100 |
| Comments | 2 |

**ğŸ’¡ Suggestions:**
- Line 45: ì´ ë©”ì„œë“œê°€ 25ì¤„ë¡œ ê½¤ ê¸¸ì–´ìš”.

---

### ğŸ“„ OrderController.java

| Metric | Value |
|--------|-------|
| Grade | âš ï¸ D |
| Score | 58/100 |
| Comments | 8 |

**ğŸš¨ Critical Issues:**
- Line 23: SQL Injection ìœ„í—˜!

---

## ğŸ“Š Summary
- **Files Analyzed:** 2
- **Average Score:** 75/100
- **Critical Issues:** 1

âŒ **Build failed due to critical issues**
```

### PR Statistics
```markdown
## ğŸ“Š PR Statistics

| Metric | Value |
|--------|-------|
| Files Changed | 5 |
| Java Files | 3 |
| Lines Added | +127 |
| Lines Removed | -45 |
| Net Change | +82 |
| Commits | 3 |

### Changed Files
- âœï¸ `src/UserService.java` (+45/-12)
- ğŸ†• `src/OrderService.java` (+82/-0)
- âœï¸ `test/UserServiceTest.java` (+0/-33)
```

## ìë™ ë¼ë²¨ë§

### ëª¨ë“ˆ ë¼ë²¨
| ê²½ë¡œ | ë¼ë²¨ |
|------|------|
| `code-ai-analyzer/` | `analyzer` |
| `code-ai-intellij/` | `intellij-plugin` |
| `code-ai-vscode/` | `vscode-extension` |
| `mini-ai-cli/` | `cli` |
| `docs/` | `documentation` |

### í¬ê¸° ë¼ë²¨
| ë³€ê²½ ë¼ì¸ ìˆ˜ | ë¼ë²¨ |
|-------------|------|
| < 10 | `size/XS` |
| 10-49 | `size/S` |
| 50-199 | `size/M` |
| 200-499 | `size/L` |
| >= 500 | `size/XL` |

## íŒŒì¼ êµ¬ì¡°
```
.github/
â””â”€â”€ workflows/
    â”œâ”€â”€ ci.yml           # ë©”ì¸ CI (ë¹Œë“œ, í…ŒìŠ¤íŠ¸)
    â”œâ”€â”€ code-quality.yml # ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬
    â”œâ”€â”€ plugin-build.yml # í”ŒëŸ¬ê·¸ì¸ ë¹Œë“œ
    â””â”€â”€ pr-review.yml    # PR ìë™ ë¦¬ë·°
```

## íŠ¸ë¦¬ê±° ì¡°ê±´

| ì›Œí¬í”Œë¡œìš° | Push | PR | Release | ê²½ë¡œ í•„í„° |
|-----------|------|-----|---------|-----------|
| ci.yml | âœ… main, develop | âœ… | - | - |
| code-quality.yml | - | âœ… | - | `**.java` |
| plugin-build.yml | âœ… main | âœ… | âœ… | `code-ai-*` |
| pr-review.yml | - | âœ… | - | - |

## ì‹œí¬ë¦¿ ì„¤ì •

| ì‹œí¬ë¦¿ | ìš©ë„ |
|--------|------|
| `GITHUB_TOKEN` | ê¸°ë³¸ ì œê³µ (PR ì½”ë©˜íŠ¸, ë¦´ë¦¬ìŠ¤) |
| `JETBRAINS_TOKEN` | JetBrains Marketplace ë°°í¬ (ì„ íƒ) |
| `VSCE_TOKEN` | VS Code Marketplace ë°°í¬ (ì„ íƒ) |

## ë¡œì»¬ í…ŒìŠ¤íŠ¸

### actë¥¼ ì‚¬ìš©í•œ ë¡œì»¬ ì‹¤í–‰
```bash
# act ì„¤ì¹˜
brew install act

# CI ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸
act push -j build

# PR ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸
act pull_request -j ai-code-review
```

## ë‹¤ìŒ ë‹¨ê³„
- STEP-16: LLM ì—°ë™ (Claude/GPT API)
- STEP-17: ì½”ë“œ ìë™ ìˆ˜ì • (Auto-fix)
- STEP-18: ì›¹ ëŒ€ì‹œë³´ë“œ
